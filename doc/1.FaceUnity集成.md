

## FaceUnity接入

### 1.arr导入

将Demo项目app模块libs下的fu_core-release.aar文件，拷贝到自己项目中，并配置gradle

### 2. build.gradle配置

#### 2.1 android属性配置
```java
android {
...
    // for exoplayer lib
    compileOptions {
        sourceCompatibility = 1.8
        targetCompatibility = 1.8
    }
...
}
```
#### 2.2 dependencies导入依赖arr文件
```java
dependencies {
...
implementation fileTree(dir: 'libs', include: ['*.jar','*.aar'])
implementation 'com.google.android.exoplayer:exoplayer-core:2.11.3' //arr使用到exoplayer，需要在app项目声明
...
}
```
#### 2.3 非Kotlin项目需要导入:kotlin-stdlib
```java
dependencies {
...
 implementation "org.jetbrains.kotlin:kotlin-stdlib:1.3.72"
 implementation 'androidx.core:core-ktx:1.3.2'
...
}
```




### 3.初始化

#### 3.1 FURenderManager

##### 3.1.1 设置SDK日志等级
###### 接口说明
```java
fun setKitDebug(logLevel:FULogger.LogLevel)
```
###### 参数说明
logLevel：日志等级，详情见LogLevel枚举，0FF为关闭 ，默认关闭

###### 代码示例
```java
FURenderManager.setKitDebug(FULogger.LogLevel.OFF);
```

##### 3.1.2 设置底层so日志等级
###### 接口说明
```java
fun setCoreDebug(logLevel:FULogger.LogLevel)
```
###### 参数说明
logLevel：日志等级，详情见LogLevel枚举，0FF为关闭 ，默认关闭

###### 代码示例
```java
FURenderManager.setCoreDebug(FULogger.LogLevel.OFF);
```
##### 3.1.3 初始化
###### 接口说明
```java
fun registerFURender(context: Context, auth: ByteArray, operateCallback: OperateCallback)
```
###### 参数说明
context：上下文
auth：鉴权数组，通过authpack.A()获取 
operateCallback：绑定回调接口，涉及以下事件：注册、AI驱动加载、Bundle文件加载

###### 代码示例
```java
FURenderManager.registerFURender(mApplication, authpack.A(), new OperateCallback() {
    @Override
    public void onSuccess(int code, String msg) {
    }

    @Override
    public void onFail(int errCode, String errMsg) {
    }
});
```

###### code 说明
```
/************************** OperateCallback回调相关code ******************************/
const val OPERATE_SUCCESS_AUTH = 200 //鉴权成功
const val OPERATE_SUCCESS_LOAD_AI_MODEL = 201 //加载AI道具成功
const val OPERATE_SUCCESS_LOAD_BUNDLE = 202 //加载普通道具成功
const val OPERATE_FAILED_AUTH = 10000//鉴权失败
const val OPERATE_FAILED_FILE_NOT_FOUND = 10001 //文件找不到
const val OPERATE_FAILED_LOAD_AI_MODEL = 10002 //加载AI道具失败
const val OPERATE_FAILED_LOAD_BUNDLE = 10003//加载普通道具失败
```

