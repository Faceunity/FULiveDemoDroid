# 美颜道具参数说明

## 目录

[TOC]



## 功能介绍

美颜包括红润、美白、清晰磨皮、朦胧磨皮、滤镜、变形、亮眼、美牙功能，其中朦胧磨皮、滤镜、变形、亮眼、美牙为高级美颜功能，需要相应的证书权限使用。

## 参数说明

#### 全局参数

美颜道具的全局开关为is_beauty_on

```
is_beauty_on:美颜全局开关，0为关，1为开，默认为1
```

#### 一、滤镜

滤镜功能主要通过参数filter_level 和 filter_name来控制

```
filter_level 取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值1.0
filter_name 取值为一个字符串，默认值为 “origin” ，origin即为使用原图效果
```

filter_name参数的取值和相关介绍在附录 **滤镜对应key值** 部分有详细介绍，对于老版本（6.0之前）的用户，可以参考附录 **新老滤镜对应关系** 部分。

#### 二、美白和红润

##### 美白

美白功能主要通过参数color_level来控制

```
color_level 取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值0.2
```

##### 红润

红润功能主要通过参数red_level 来控制

```
red_level 取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值0.5
```

#### 三、磨皮

控制磨皮的参数有四个：blur_level，skin_detect，nonskin_blur_scale，heavy_blur，blur_type

```
blur_level: 磨皮程度，取值范围0.0-6.0，默认6.0
skin_detect:肤色检测开关，0为关，1为开
nonskin_blur_scale:肤色检测之后非肤色区域的融合程度，取值范围0.0-1.0，默认0.45
heavy_blur: 朦胧磨皮开关，0为清晰磨皮，1为朦胧磨皮
blur_type：此参数优先级比heavy_blur低，在使用时要将heavy_blur设为0，0 清晰磨皮  1 朦胧磨皮  2精细磨皮
```

注意：朦胧磨皮为高级美颜功能，需要相应证书权限才能使用

#### 四、亮眼

亮眼功能主要通过参数eye_bright 来控制

```
eye_bright   取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值1.0
```

注意：亮眼为高级美颜功能，需要相应证书权限才能使用

#### 五、美牙

美牙功能主要通过参数tooth_whiten来控制

```
tooth_whiten   取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值1.0
```

注意：美牙为高级美颜功能，需要相应证书权限才能使用

#### 六、美型

美型的整体程度由face_shape_level参数控制

```
face_shape_level   取值范围 0.0-1.0,0.0为无效果，1.0为最大效果，默认值1.0
```

美型的渐变由change_frames参数控制

```
change_frames       0为关闭 ，大于0开启渐变，值为渐变所需要的帧数
```

美型的种类主要由face_shape 参数控制

```
face_shape: 变形取值 0:女神变形 1:网红变形 2:自然变形 3:默认变形 4:精细变形
```

在face_shape选取不同参数时，对应可以使用的参数也不同：

##### face_shape参数详解

```
1.
face_shape 为0 1 2 3时
对应0：女神 1：网红 2：自然 3：默认
可以使用参数
eye_enlarging: 	默认0.5,		//大眼程度范围0.0-1.0
cheek_thinning:	默认0.0,  		//瘦脸程度范围0.0-1.0
2.
face_shape 为4时，为用户自定义的精细变形，开放了脸型相关参数，添加了窄脸小脸参数
eye_enlarging: 	默认0.5,		//大眼程度范围0.0-1.0
cheek_thinning:	默认0.0,  		//瘦脸程度范围0.0-1.0
cheek_v:	默认0.0,  		//v脸程度范围0.0-1.0
cheek_narrow:   默认0.0,          //窄脸程度范围0.0-1.0
cheek_small:   默认0.0,          //小脸程度范围0.0-1.0
intensity_nose: 默认0.0,        //瘦鼻程度范围0.0-1.0
intensity_forehead: 默认0.5,    //额头调整程度范围0.0-1.0，0-0.5是变小，0.5-1是变大
intensity_mouth:默认0.5,       //嘴巴调整程度范围0.0-1.0，0-0.5是变小，0.5-1是变大
intensity_chin: 默认0.5,       //下巴调整程度范围0.0-1.0，0-0.5是变小，0.5-1是变大
```



#### 注意事项

以上参数后面均表明了取值范围，如果超出了取值范围会影响效果，不建议使用

## 附录

### 滤镜对应key值

```
新滤镜
bailiang1
bailiang2
bailiang3
bailiang4
bailiang5
bailiang6
bailiang7
fennen1
fennen2
fennen3
fennen4
fennen5
fennen6
fennen7
fennen8
gexing1
gexing2
gexing3
gexing4
gexing5
gexing6
gexing7
gexing8
gexing9
gexing10
heibai1
heibai2
heibai3
heibai4
heibai5
lengsediao1
lengsediao2
lengsediao3
lengsediao4
lengsediao5
lengsediao6
lengsediao7
lengsediao8
lengsediao9
lengsediao10
lengsediao11
nuansediao1
nuansediao2
nuansediao3
xiaoqingxin1
xiaoqingxin2
xiaoqingxin3
xiaoqingxin4
xiaoqingxin5
xiaoqingxin6
```

### 新老滤镜对应关系

新老滤镜key值对应关系如下，建议采用新滤镜key值，少部分老滤镜key值由于兼容性问题已下架

| 新滤镜对应key | 老滤镜对应key |
| ------------- | ------------- |
| bailiang1     |               |
| bailiang2     | nature_old    |
| bailiang3     | delta         |
| bailiang4     | dry           |
| bailiang5     | refreshing    |
| bailiang6     | newwhite      |
| bailiang7     | ziran         |
| fennen1       |               |
| fennen2       |               |
| fennen3       | red           |
| fennen4       | crimson       |
| fennen5       | danya         |
| fennen6       | fennen        |
| fennen7       | qingxin       |
| fennen8       | hongrun       |
| gexing1       | electric      |
| gexing2       | tokyo         |
| gexing3       | warm          |
| gexing4       | dew           |
| gexing5       | concrete      |
| gexing6       | keylime       |
| gexing7       | cold          |
| gexing8       | lucky         |
| gexing9       | Japanese      |
| gexing10      | cloud         |
| heibai1       |               |
| heibai2       | white level   |
| heibai3       | boardwalk     |
| heibai4       | blackwhite    |
| heibai5       | sliver        |
| lengsediao1   |               |
| lengsediao2   |               |
| lengsediao3   |               |
| lengsediao4   |               |
| lengsediao5   | girly         |
| lengsediao6   | kodak         |
| lengsediao7   | rollei        |
| lengsediao8   | autumn        |
| lengsediao9   | sunshine      |
| lengsediao10  | sakura        |
| lengsediao11  | hongkong      |
| nuansediao1   |               |
| nuansediao2   | red tea       |
| nuansediao3   | forest        |
| xiaoqingxin1  |               |
| xiaoqingxin2  |               |
| xiaoqingxin3  |               |
| xiaoqingxin4  | slowlived     |
| xiaoqingxin5  | pink          |
| xiaoqingxin6  | sweet         |
|               | polaroid      |
|               | cruz          |
|               | fuji          |
|               | cyan          |
|               | pearl         |

空白为没有对应值。

### 美颜默认参数表

美颜推荐默认参数表以json的形式给出，key值就是对应的参数名，对应的介绍可以在上面参数介绍中找到，value就是对应我们推荐的参数值，建议大家使用这些参数值作为默认参数。

#### 美肤默认参数

```
{	
	"default": {
		"color_level":0.3,
		"red_level":0.3,
		"skin_detect":1,
		"blur_level":4.2,
		"heavy_blur":0,
		"blur_type":0,
		"eye_bright":0.0,
		"tooth_whiten":0.0,
	}
}
```

#### 滤镜默认参数

```
{	
	"default1": {
		"filter_name":"fennen1",
		"filter_level":0.7,
	},
	"default2": {
		"filter_name":"bailiang1",
		"filter_level":0.7,
	},
	"default3": {
		"filter_name":"xiaoqingxin1",
		"filter_level":0.7,
	},
	"default4": {
		"filter_name":"lengsediao1",
		"filter_level":0.7,
	},
	"default5": {
		"filter_name":"nuansediao1",
		"filter_level":0.7,
	},
}
```

#### 美型默认参数

```
{	
	"default": {
		"face_shape_level":1.0,
		"face_shape":4,
		"eye_enlarging":0.4,
		"cheek_thinning":0.0,
		"cheek_v":0.5,
		"cheek_narrow":0,
		"cheek_small":0,
		"intensity_nose":0.5,
		"intensity_forehead":0.3,
		"intensity_mouth":0.4,
		"intensity_chin":0.3
	}
}
```

